<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì–´ë¥´ì‹  êµí†µì•ˆì „ ë° ì¸ì§€ ì§„ë‹¨ ì•±</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jua&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* 1. ê¸°ë³¸ ì„¤ì • */
        * { box-sizing: border-box; user-select: none; -webkit-tap-highlight-color: transparent; }
        body {
            margin: 0; padding: 0;
            background-color: #f0f2f5;
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh;
            font-family: 'Noto Sans KR', sans-serif;
            word-break: keep-all; 
        }

        /* 2. ìŠ¬ë¼ì´ë“œ ì»¨í…Œì´ë„ˆ */
        .slide-container {
            width: 1280px; height: 720px;
            background-color: #ffffff;
            border-radius: 30px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
            position: relative; overflow: hidden;
            display: none;
            flex-direction: column;
            padding: 40px 60px; 
            border: 4px solid #ffaa00;
        }
        .slide-container.active { display: flex; animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.99); } to { opacity: 1; transform: scale(1); } }

        /* 3. íƒ€ì´í¬ê·¸ë˜í”¼ */
        h1 { 
            font-family: 'Jua', sans-serif; 
            font-size: 64px; color: #333; 
            margin: 0 0 20px 0; line-height: 1.2; 
            white-space: nowrap; text-align: center;
        }
        h2 { 
            font-family: 'Jua', sans-serif; 
            font-size: 44px; color: #333; 
            margin: 0 0 30px 0; line-height: 1.35;
            text-align: left; 
        }
        p { font-size: 26px; color: #555; line-height: 1.6; margin-bottom: 20px; }
        .highlight { color: #d35400; font-weight: bold; }

        /* 4. ë ˆì´ì•„ì›ƒ ìœ í‹¸ë¦¬í‹° */
        .center-box { 
            text-align: center; display: flex; flex-direction: column; 
            justify-content: center; align-items: center; height: 100%; 
        }
        .split-box { 
            display: grid; grid-template-columns: 1fr 1fr; gap: 60px; 
            height: 100%; align-items: center; 
        }
        
        /* 5. ë¯¸ë””ì–´ ë˜í¼ */
        .media-group {
            display: flex; flex-direction: column; gap: 10px; width: 100%;
        }
        .media-wrapper { 
            width: 100%; height: 400px; border-radius: 20px; 
            overflow: hidden; background: #000; border: 2px solid #ddd; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            position: relative;
        }
        .media-wrapper iframe { 
            width: 100%; height: 100%; border: none; 
            position: absolute; top: 0; left: 0;
        }
        
        /* 6. ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .btn-start {
            background: #ff6b6b; color: white; border: none;
            padding: 20px 80px; font-size: 40px; font-family: 'Jua', sans-serif;
            border-radius: 60px; cursor: pointer;
            box-shadow: 0 6px 0 #c0392b; transition: transform 0.1s; margin-top: 20px;
        }
        .btn-start:active { transform: translateY(6px); box-shadow: none; }

        .btn-option {
            background: white; border: 3px solid #eee; border-radius: 20px;
            padding: 22px 30px; font-size: 28px;
            text-align: left; width: 100%; margin-bottom: 20px;
            cursor: pointer; transition: 0.2s;
            display: flex; align-items: center; font-weight: 500; line-height: 1.3;
            color: #444;
        }
        .btn-option:hover { background: #fff8e1; border-color: #ffaa00; transform: translateX(5px); }
        .btn-option:active { background: #ffe0b2; transform: scale(0.99); }
        .btn-option i { margin-right: 25px; color: #ffaa00; width: 45px; text-align: center; flex-shrink: 0; font-size: 32px; }

        /* ê´€ë¦¬ììš© ë¦¬ì…‹ ë²„íŠ¼ */
        .admin-reset-btn {
            position: absolute; top: 30px; right: 30px;
            width: 50px; height: 50px; border-radius: 50%;
            background-color: #ecf0f1; color: #95a5a6;
            border: 2px solid #bdc3c7; font-size: 20px;
            cursor: pointer; transition: all 0.2s; z-index: 100;
            display: flex; justify-content: center; align-items: center;
        }
        .admin-reset-btn:active { background-color: #bdc3c7; color: white; }

        /* 7. ê²°ê³¼ ë¦¬í¬íŠ¸ ìŠ¤íƒ€ì¼ */
        .tab-menu { display: flex; gap: 15px; justify-content: center; margin-bottom: 25px; }
        .tab-btn {
            padding: 15px 50px; font-size: 26px; font-family: 'Jua', sans-serif;
            border: none; background: #eee; border-radius: 20px;
            cursor: pointer; color: #7f8c8d; transition: 0.2s;
        }
        .tab-btn.active { background: #ffaa00; color: white; box-shadow: 0 4px 10px rgba(255, 170, 0, 0.3); transform: translateY(-2px); }
        
        .report-content { 
            flex: 1; border: 3px solid #ffaa00; border-radius: 24px; padding: 40px; 
            background: white; display: none; overflow-y: auto; 
            scrollbar-width: thin; scrollbar-color: #ffaa00 #eee;
        }
        .report-content::-webkit-scrollbar { width: 8px; }
        .report-content::-webkit-scrollbar-thumb { background-color: #ffaa00; border-radius: 10px; }
        .report-content.show { display: block; animation: fadeIn 0.3s; }
        
        .score-box { 
            background: #fff3cd; padding: 20px; border-radius: 20px; 
            text-align: center; margin-bottom: 30px; 
            border: 2px dashed #ffecb3;
        }
        .score-num { font-size: 64px; font-family: 'Jua', sans-serif; color: #d35400; line-height: 1; }

        /* ì•ˆì „/ì¸ì§€ ë³´ê³ ì„œ ê·¸ë¦¼ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .safety-grid {
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px;
            margin-top: 15px; margin-bottom: 30px;
        }
        .safety-card {
            background: white; border: 2px solid #e0e0e0; border-radius: 24px;
            padding: 25px 15px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            text-align: center; box-shadow: 0 8px 20px rgba(0,0,0,0.03);
            position: relative; overflow: hidden; height: 100%;
        }
        
        .card-badge {
            position: absolute; top: 12px; left: 12px;
            font-size: 13px; font-weight: 700; padding: 5px 12px; border-radius: 30px;
        }
        .card-badge.correction { background: #ffebee; color: #c0392b; }
        .card-badge.activity { background: #e8f8f5; color: #27ae60; }

        .safety-card i { font-size: 56px; margin: 10px 0 15px 0; }
        .safety-card p { font-size: 24px; font-weight: 700; margin: 0 0 8px 0; color: #333; line-height: 1.3; }
        .safety-card .desc { font-size: 17px; color: #666; line-height: 1.5; }

        /* ë°ì´í„° ë¶„ì„ ë°•ìŠ¤ */
        .analysis-box {
            background-color: #f8f9fa; border-left: 6px solid #3498db;
            padding: 25px; border-radius: 0 15px 15px 0; margin-top: 10px;
        }
        .analysis-title { font-size: 24px; font-weight: bold; color: #2980b9; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
        .analysis-text { font-size: 20px; color: #444; line-height: 1.7; }

        /* ì°¨íŠ¸ ì˜ì—­ */
        .chart-row { display: flex; align-items: center; margin-bottom: 20px; }
        .chart-label { width: 140px; font-size: 22px; font-weight: bold; color: #555; text-align: right; margin-right: 25px; }
        .chart-bar-bg { flex: 1; height: 24px; background: #eee; border-radius: 12px; overflow: hidden; }
        .chart-bar { height: 100%; background: linear-gradient(90deg, #ffaa00, #ff6b6b); width: 0%; transition: width 1s ease-out; }
        .progress-container { position: absolute; top: 0; left: 0; width: 100%; height: 8px; background: #eee; }
        .progress-fill { height: 100%; background: #27ae60; width: 0%; transition: width 0.3s; }

        /* ìˆ«ì íŒ¨ë“œ */
        .date-display {
            background: #fff; border: 3px solid #ccc; border-radius: 15px;
            padding: 10px; width: 100%; max-width: 360px;
            font-size: 40px; font-weight: bold; text-align: center;
            margin: 0 auto 25px auto; color: #333; 
            display: flex; justify-content: center; gap: 15px; height: 80px; align-items: center;
        }
        .date-part { color: #d35400; border-bottom: 4px solid #d35400; padding: 0 5px; min-width: 70px; display: inline-block; text-align: center;}
        
        .numpad { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; width: 100%; max-width: 360px; margin: 0 auto; }
        .num-btn {
            background: #f8f9fa; border: 2px solid #ddd; border-radius: 12px; font-size: 32px; font-weight: bold; 
            padding: 0; cursor: pointer; box-shadow: 0 4px 0 #ddd; transition: 0.1s; height: 65px;
            display: flex; align-items: center; justify-content: center;
        }
        .num-btn:active { transform: translateY(4px); box-shadow: none; background: #eee; }
        .num-btn.confirm { background: #27ae60; color: white; border-color: #219150; box-shadow: 0 4px 0 #1e8449; }

    </style>
</head>
<body>

    <div class="progress-container"><div class="progress-fill" id="progressBar"></div></div>

    <!-- 1. ì‹œì‘ í™”ë©´ -->
    <div class="slide-container active" id="page-start">
        <div class="center-box">
            <i class="fa-solid fa-traffic-light" style="font-size: 110px; color: #27ae60; margin-bottom: 40px;"></i>
            <h1>ì–´ë¥´ì‹  êµí†µì•ˆì „ <span class="highlight">ë° ì¸ì§€ëŠ¥ë ¥ ì§„ë‹¨</span></h1>
            <p>ë¬¸ì œë¥¼ í’€ë©´ <strong>ë‚˜ì—ê²Œ ë”± ë§ëŠ” ì•ˆì „ ìˆ˜ì¹™</strong>ê³¼<br><strong>ì¸ì§€ ê±´ê°• ìƒíƒœ</strong>ë¥¼ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.</p>
            <button class="btn-start btn-action" onclick="startQuiz()">ì‹œì‘í•˜ê¸°</button>
        </div>
    </div>

    <!-- 2. Q1: ì‹ í˜¸ë“± -->
    <div class="slide-container" id="page-q1">
        <div class="split-box">
            <div>
                <h2>Q1. ì‹ í˜¸ë“±ì´ <span style="color:#27ae60;">ì´ˆë¡ë¶ˆë¡œ ê¹œë¹¡ì¼ ë•Œ</span><br>ì˜¬ë°”ë¥¸ í–‰ë™ì€?</h2>
                <button class="btn-option btn-action" onclick="answer(1, 0)"><i class="fa-solid fa-person-running"></i>â‘  ì–¼ë¥¸ ë›°ì–´ì„œ ê±´ë„Œë‹¤</button>
                <button class="btn-option btn-action" onclick="answer(1, 10)"><i class="fa-solid fa-hand"></i>â‘¡ ë©ˆì¶”ê³  ë‹¤ìŒ ì‹ í˜¸ë¥¼ ê¸°ë‹¤ë¦°ë‹¤</button>
                <button class="btn-option btn-action" onclick="answer(1, 3)"><i class="fa-solid fa-person-walking"></i>â‘¢ ì²œì²œíˆ ê±¸ì–´ì„œ ê±´ë„Œë‹¤</button>
            </div>
            <div class="media-group">
                <div class="media-wrapper">
                    <!-- data-src: ì˜ìƒ ì£¼ì†Œ ì €ì¥, src: ë¹„ì›Œë‘  (ë¡œë”© ë°©ì§€) -->
                    <!-- autoplay=1&mute=0: ìë™ì¬ìƒ & ì†Œë¦¬ì¼¬ -->
                    <iframe data-src="https://www.youtube.com/embed/fQqtMe2qCOo?autoplay=1&mute=0&rel=0&playsinline=1" src="" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                </div>
            </div>
        </div>
    </div>

    <!-- 3. Q2: ì•¼ê°„ ë³´í–‰ -->
    <div class="slide-container" id="page-q2">
        <div class="split-box">
            <div class="media-group">
                <div class="media-wrapper">
                    <iframe data-src="https://www.youtube.com/embed/SNFpQjgokSM?autoplay=1&mute=0&rel=0&playsinline=1" src="" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                </div>
            </div>
            <div>
                <h2>Q2. <span style="color:#ff6b6b;">ë°¤ì— ì™¸ì¶œí•  ë•Œ</span><br>ê°€ì¥ ì•ˆì „í•œ ì˜·ì°¨ë¦¼ì€?</h2>
                <button class="btn-option btn-action" onclick="answer(2, 0)"><i class="fa-solid fa-shirt" style="color:#333"></i>â‘  ë•Œê°€ ì•ˆ íƒ€ëŠ” ê²€ì€ìƒ‰ ì˜·</button>
                <button class="btn-option btn-action" onclick="answer(2, 5)"><i class="fa-solid fa-shirt" style="color:#999"></i>â‘¡ ë¬´ë‚œí•œ íšŒìƒ‰ ì˜·</button>
                <button class="btn-option btn-action" onclick="answer(2, 10)"><i class="fa-solid fa-vest-patches" style="color:#f39c12"></i>â‘¢ ëˆˆì— ì˜ ë„ëŠ” ë°ì€/ì•¼ê´‘ ì˜·</button>
            </div>
        </div>
    </div>

    <!-- 4. Q3: ë²„ìŠ¤ í•˜ì°¨ -->
    <div class="slide-container" id="page-q3">
        <div class="split-box">
            <div>
                <h2>Q3. ë²„ìŠ¤ì—ì„œ ë‚´ë¦´ ë•Œ <span style="color:#c0392b;">ê°€ì¥ ìœ„í—˜í•œ</span><br>í–‰ë™ì€ ë¬´ì—‡ì¼ê¹Œìš”?</h2>
                <button class="btn-option btn-action" onclick="answer(3, 10)"><i class="fa-solid fa-chair"></i>â‘  ì°¨ê°€ ë©ˆì¶˜ ë’¤ ì¼ì–´ë‚œë‹¤</button>
                <button class="btn-option btn-action" onclick="answer(3, 0)"><i class="fa-solid fa-person-falling"></i>â‘¡ ë¯¸ë¦¬ ë¬¸ ì•ìœ¼ë¡œ ê±¸ì–´ ë‚˜ê°„ë‹¤</button>
                <button class="btn-option btn-action" onclick="answer(3, 5)"><i class="fa-solid fa-hands-holding-circle"></i>â‘¢ ì†ì¡ì´ë¥¼ ê¼­ ì¡ê³  ê¸°ë‹¤ë¦°ë‹¤</button>
            </div>
            <div class="media-group">
                <div class="media-wrapper">
                    <iframe data-src="https://www.youtube.com/embed/TQ0MmKOPVn8?autoplay=1&mute=0&rel=0&playsinline=1" src="" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                </div>
            </div>
        </div>
    </div>

    <!-- 5. Q4: ë¬´ë‹¨íš¡ë‹¨ -->
    <div class="slide-container" id="page-q4">
        <div class="split-box">
            <div class="media-group">
                <div class="media-wrapper">
                    <iframe data-src="https://www.youtube.com/embed/gg8lMb-WSpg?autoplay=1&mute=0&rel=0&playsinline=1" src="" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                </div>
            </div>
            <div>
                <h2>Q4. íš¡ë‹¨ë³´ë„ê°€ ì—†ëŠ” ê³³ì—ì„œ<br>ê¸¸ì„ ê±´ë„ˆì•¼ í•œë‹¤ë©´?</h2>
                <button class="btn-option btn-action" onclick="answer(4, 0)"><i class="fa-solid fa-person-walking-arrow-right"></i>â‘  ì°¨ê°€ ì—†ìœ¼ë©´ ë¹¨ë¦¬ ê±´ë„Œë‹¤</button>
                <button class="btn-option btn-action" onclick="answer(4, 5)"><i class="fa-solid fa-hand"></i>â‘¡ ì†ì„ ë“¤ê³  ì¡°ì‹¬íˆ ê±´ë„Œë‹¤</button>
                <button class="btn-option btn-action" onclick="answer(4, 10)"><i class="fa-solid fa-map-location-dot"></i>â‘¢ ë©€ë”ë¼ë„ íš¡ë‹¨ë³´ë„ë¥¼ ì°¾ëŠ”ë‹¤</button>
            </div>
        </div>
    </div>

    <!-- 6. Q5: ê³¨ëª©ê¸¸ -->
    <div class="slide-container" id="page-q5">
        <div class="split-box">
            <div>
                <h2>Q5. ì¸ë„ê°€ ì—†ëŠ” ê³¨ëª©ê¸¸ì—ì„œ<br>ì–´ë””ë¡œ ê±¸ì–´ì•¼ í• ê¹Œìš”?</h2>
                <button class="btn-option btn-action" onclick="answer(5, 0)"><i class="fa-solid fa-road"></i>â‘  ê¸¸ í•œê°€ìš´ë°ë¡œ ê±·ëŠ”ë‹¤</button>
                <button class="btn-option btn-action" onclick="answer(5, 10)"><i class="fa-solid fa-car-side"></i>â‘¡ ì°¨ì™€ ë§ˆì£¼ ë³´ê³  ê°€ì¥ìë¦¬ë¡œ</button>
                <button class="btn-option btn-action" onclick="answer(5, 5)"><i class="fa-solid fa-person-walking"></i>â‘¢ ì°¨ë¥¼ ë“±ì§€ê³  ê°€ì¥ìë¦¬ë¡œ</button>
            </div>
            <div class="media-group">
                <div class="media-wrapper">
                    <iframe data-src="https://www.youtube.com/embed/64JQUbItWiY?autoplay=1&mute=0&rel=0&playsinline=1" src="" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                </div>
            </div>
        </div>
    </div>

    <!-- 7. Q6: ì˜¤ëŠ˜ ë‚ ì§œ -->
    <div class="slide-container" id="page-q6">
        <div class="center-box">
            <h2 style="margin-bottom: 25px; text-align: center;">Q6. ì˜¤ëŠ˜ì€ ëª‡ ì›” ë©°ì¹  ì¸ê°€ìš”?</h2>
            
            <div class="date-display">
                <span id="display-month" class="date-part"></span>ì›”
                <span id="display-day" class="date-part"></span>ì¼
            </div>

            <div class="numpad">
                <button class="num-btn btn-action" onclick="inputDate(1)">1</button>
                <button class="num-btn btn-action" onclick="inputDate(2)">2</button>
                <button class="num-btn btn-action" onclick="inputDate(3)">3</button>
                <button class="num-btn btn-action" onclick="inputDate(4)">4</button>
                <button class="num-btn btn-action" onclick="inputDate(5)">5</button>
                <button class="num-btn btn-action" onclick="inputDate(6)">6</button>
                <button class="num-btn btn-action" onclick="inputDate(7)">7</button>
                <button class="num-btn btn-action" onclick="inputDate(8)">8</button>
                <button class="num-btn btn-action" onclick="inputDate(9)">9</button>
                <button class="num-btn btn-action" onclick="deleteDate()"><i class="fa-solid fa-delete-left"></i></button>
                <button class="num-btn btn-action" onclick="inputDate(0)">0</button>
                <button class="num-btn confirm btn-action" onclick="submitDate()">í™•ì¸</button>
            </div>
        </div>
    </div>

    <!-- 8. Q7: ì¸ì§€ì•ˆì „ í€´ì¦ˆ -->
    <div class="slide-container" id="page-q7">
        <div class="split-box">
            <div class="media-group">
                <div class="media-wrapper">
                    <iframe data-src="https://www.youtube.com/embed/ZPMKuTK1pdQ?autoplay=1&mute=0&rel=0&playsinline=1" src="" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                </div>
            </div>
            <div>
                <h2>Q7. ë³´í–‰ ì‹ í˜¸ê°€ <span style="color:#e74c3c;">5ì´ˆ</span> ë‚¨ì•˜ìŠµë‹ˆë‹¤.<br>íš¡ë‹¨ë³´ë„ëŠ” ì•„ì§ ì ˆë°˜ë„<br>ëª» ê±´ë„œìŠµë‹ˆë‹¤. ì–´ë–»ê²Œ í• ê¹Œìš”?</h2>
                <button class="btn-option btn-action" onclick="answer(7, 0)"><i class="fa-solid fa-person-running"></i>â‘  ë›°ì–´ì„œ ê±´ë„Œë‹¤</button>
                <button class="btn-option btn-action" onclick="answer(7, 10)"><i class="fa-solid fa-hand"></i>â‘¡ ë‹¤ìŒ ì‹ í˜¸ë¥¼ ê¸°ë‹¤ë¦°ë‹¤</button>
                <button class="btn-option btn-action" onclick="answer(7, 5)"><i class="fa-solid fa-person-walking"></i>â‘¢ ì°¨ê°€ ì•ˆ ì˜¤ë©´ ê·¸ëƒ¥ ê±´ë„Œë‹¤</button>
            </div>
        </div>
    </div>

    <!-- 9. Q8: í•™ë ¥ -->
    <div class="slide-container" id="page-q8">
        <div class="center-box">
            <h2 style="text-align: center;">Q8. ì–´ë¥´ì‹ ì˜ ìµœì¢… í•™ë ¥ì„<br>ì„ íƒí•´ì£¼ì„¸ìš”.</h2>
            <p>ë§ì¶¤í˜• ê²°ê³¼ë¥¼ ìœ„í•´ í•„ìš”í•œ ì •ë³´ì…ë‹ˆë‹¤.</p>
            <div style="width: 600px;">
                <button class="btn-option btn-action" onclick="answer(8, 0)">â‘  ë¬´í•™ / ì´ˆë“±í•™êµ ì¡¸ì—…</button>
                <button class="btn-option btn-action" onclick="answer(8, 0)">â‘¡ ì¤‘í•™êµ ì¡¸ì—…</button>
                <button class="btn-option btn-action" onclick="answer(8, 0)">â‘¢ ê³ ë“±í•™êµ ì¡¸ì—…</button>
                <button class="btn-option btn-action" onclick="answer(8, 0)">â‘£ ëŒ€í•™êµ ì¡¸ì—… ì´ìƒ</button>
            </div>
        </div>
    </div>

    <!-- 10. ë¡œë”© -->
    <div class="slide-container" id="page-loading">
        <div class="center-box">
            <i class="fa-solid fa-gear fa-spin" style="font-size: 80px; color: #ffaa00; margin-bottom: 30px;"></i>
            <h2>í„°ì¹˜ ë°˜ì‘ ì†ë„ì™€ ì •í™•ë„ë¥¼<br>ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤...</h2>
        </div>
    </div>

    <!-- 11. ê²°ê³¼ ë³´ê³ ì„œ -->
    <div class="slide-container" id="page-result">
        <button class="admin-reset-btn" onclick="resetQuiz()" title="ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸° (ê´€ë¦¬ììš©)">
            <i class="fa-solid fa-rotate-right"></i>
        </button>

        <div style="height: 100%; display: flex; flex-direction: column;">
            <div style="text-align: center; margin-bottom: 20px;">
                <h1>ì§„ë‹¨ ê²°ê³¼ ë³´ê³ ì„œ</h1>
            </div>
            
            <div class="tab-menu">
                <button class="tab-btn active" onclick="switchTab('safety')">ğŸ›¡ï¸ ì•ˆì „ ë³´ê³ ì„œ</button>
                <button class="tab-btn" onclick="switchTab('cognitive')">ğŸ§  ì¸ì§€ ë³´ê³ ì„œ</button>
            </div>

            <div id="report-safety" class="report-content show">
                <div class="score-box">
                    <span style="font-size: 28px; color:#555;">ë‚˜ì˜ êµí†µì•ˆì „ ì ìˆ˜</span><br>
                    <span class="score-num" id="safety-score">0ì </span>
                </div>
                
                <h3 style="text-align: center; margin-bottom: 15px; color: #d35400;">ğŸ‘‡ ë‚˜ë¥¼ ìœ„í•œ ì•ˆì „ ê·¸ë¦¼ ì¹´ë“œ ğŸ‘‡</h3>
                
                <div id="safety-visual-grid" class="safety-grid"></div>

                <div class="analysis-box">
                    <div class="analysis-title"><i class="fa-solid fa-chart-line"></i> ë°ì´í„° ë¶„ì„ ë¦¬í¬íŠ¸</div>
                    <div id="safety-analysis-text" class="analysis-text"></div>
                </div>
            </div>

            <div id="report-cognitive" class="report-content">
                <div style="text-align: center; margin-bottom: 30px;">
                    <h3>ğŸ§  ì¸ì§€ ê¸°ëŠ¥ ë¶„ì„ ê²°ê³¼</h3>
                    <p style="font-size: 22px; color: #666;">ì˜ì—­ë³„ ì ìˆ˜ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë¶„ì„í•œ ê²°ê³¼ì…ë‹ˆë‹¤.</p>
                </div>

                <div id="cognitive-warning"></div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 50px; margin-bottom: 40px; padding: 0 20px;">
                    <div>
                        <div class="chart-row">
                            <div class="chart-label">ì§€ë‚¨ë ¥<br><span style="font-size:16px; color:#999;">(ì‹œê°„/ì¥ì†Œ)</span></div>
                            <div class="chart-bar-bg"><div class="chart-bar" id="bar-orientation" style="width:0%"></div></div>
                            <span style="font-size: 24px; font-weight:bold; margin-left: 10px;" id="val-orientation">0</span>
                        </div>
                        <div class="chart-row">
                            <div class="chart-label">ê¸°ì–µë ¥<br><span style="font-size:16px; color:#999;">(ì •ë³´ì €ì¥)</span></div>
                            <div class="chart-bar-bg"><div class="chart-bar" id="bar-memory" style="width:0%"></div></div>
                            <span style="font-size: 24px; font-weight:bold; margin-left: 10px;" id="val-memory">0</span>
                        </div>
                        <div class="chart-row">
                            <div class="chart-label">ì£¼ì˜ë ¥<br><span style="font-size:16px; color:#999;">(ì§‘ì¤‘ìœ ì§€)</span></div>
                            <div class="chart-bar-bg"><div class="chart-bar" id="bar-attention" style="width:0%"></div></div>
                            <span style="font-size: 24px; font-weight:bold; margin-left: 10px;" id="val-attention">0</span>
                        </div>
                    </div>
                    <div>
                         <div class="chart-row">
                            <div class="chart-label">íŒë‹¨ë ¥<br><span style="font-size:16px; color:#999;">(ì˜ì‚¬ê²°ì •)</span></div>
                            <div class="chart-bar-bg"><div class="chart-bar" id="bar-executive" style="width:0%"></div></div>
                            <span style="font-size: 24px; font-weight:bold; margin-left: 10px;" id="val-executive">0</span>
                        </div>
                        <div class="chart-row">
                            <div class="chart-label">ì‹œê³µê°„<br><span style="font-size:16px; color:#999;">(ì‹œì•¼/ê±°ë¦¬)</span></div>
                            <div class="chart-bar-bg"><div class="chart-bar" id="bar-visuospatial" style="width:0%"></div></div>
                            <span style="font-size: 24px; font-weight:bold; margin-left: 10px;" id="val-visuospatial">0</span>
                        </div>
                    </div>
                </div>

                <h3 style="text-align: center; margin-bottom: 20px; color: #27ae60;">ğŸ‘‡ ì¸ì§€ ê±´ê°•ì„ ìœ„í•œ ì¶”ì²œ í™œë™ ğŸ‘‡</h3>
                <div id="cognitive-visual-grid" class="safety-grid"></div>
            </div>
        </div>
    </div>

    <script>
        let currentScore = 0;
        let answers = { q1:0, q2:0, q3:0, q4:0, q5:0, q6:0, q7:0, q8:0 };
        const totalSlides = 8;
        let startTime = 0; 
        let slowCount = 0; 
        let missClickCount = 0; 
        let multiTapCount = 0; 
        let lastTapTime = 0; 
        let dateInput = ""; 

        function startQuiz() {
            resetVariables();
            goToSlide('q1');
            startTouchTracker(); 
        }

        function resetVariables() {
            currentScore = 0;
            answers = { q1:0, q2:0, q3:0, q4:0, q5:0, q6:0, q7:0, q8:0 };
            slowCount = 0;
            missClickCount = 0;
            multiTapCount = 0;
            dateInput = "";
            document.getElementById('display-month').innerText = "";
            document.getElementById('display-day').innerText = "";
            document.getElementById('cognitive-warning').innerHTML = "";
            document.getElementById('cognitive-visual-grid').innerHTML = "";
            document.getElementById('safety-visual-grid').innerHTML = "";
            document.getElementById('safety-analysis-text').innerHTML = "";
        }

        function startTouchTracker() {
            document.body.addEventListener('click', function(e) {
                if (!e.target.closest('.btn-action') && !e.target.closest('.media-wrapper') && !e.target.closest('.num-btn')) {
                    missClickCount++;
                }
                if (e.target.closest('.btn-action')) {
                    const currentTime = new Date().getTime();
                    if (currentTime - lastTapTime < 500) { 
                        multiTapCount++;
                    }
                    lastTapTime = currentTime;
                }
            });
        }

        // [í•µì‹¬ ë¡œì§] ìŠ¬ë¼ì´ë“œ ì´ë™ ì‹œ iframe ì œì–´ (ì¤‘ë³µ ì¬ìƒ ë°©ì§€ & ìë™ ì¬ìƒ)
        function goToSlide(id) {
            startTime = new Date().getTime();
            
            // 1. ëª¨ë“  ìŠ¬ë¼ì´ë“œ ìˆ¨ê¹€ ë° ì˜ìƒ ì •ì§€(src ì œê±°)
            document.querySelectorAll('.slide-container').forEach(el => {
                el.classList.remove('active');
                const iframe = el.querySelector('iframe');
                if (iframe) {
                    iframe.setAttribute('src', ''); // ì˜ìƒ ì¦‰ì‹œ ì •ì§€
                }
            });

            // 2. íƒ€ê²Ÿ ìŠ¬ë¼ì´ë“œ í™œì„±í™” ë° ì˜ìƒ ì¬ìƒ(data-src ì£¼ì…)
            const target = document.getElementById('page-' + id);
            if (target) {
                target.classList.add('active');
                
                const iframe = target.querySelector('iframe');
                if (iframe && iframe.dataset.src) {
                    // GitHub Pages ë“±ì—ì„œëŠ” ë³´ì•ˆ ì •ì±…ì— ë”°ë¼ ìë™ ì¬ìƒì´ ë  ìˆ˜ë„ ìˆìŒ
                    iframe.setAttribute('src', iframe.dataset.src);
                }
            }
            
            let progress = 0;
            if(id.startsWith('q')) {
                let num = parseInt(id.substring(1));
                progress = ((num - 1) / totalSlides) * 100;
            } else if (id === 'result' || id === 'loading') {
                progress = 100;
            }
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function answer(qNum, score) {
            const endTime = new Date().getTime();
            const duration = (endTime - startTime) / 1000; 
            if (duration > 5) {
                slowCount++;
            }

            answers['q' + qNum] = score;
            if (qNum !== 8) { 
                currentScore += score;
            }
            
            nextStep(qNum);
        }

        function nextStep(currentQNum) {
            if (currentQNum < totalSlides) {
                goToSlide('q' + (currentQNum + 1));
            } else {
                goToSlide('loading');
                setTimeout(showResult, 2000);
            }
        }

        function inputDate(num) {
            if (dateInput.length >= 4) return;
            let len = dateInput.length;
            if (len === 0) {
                if (num === 1) dateInput = "1";
                else if (num >= 2) dateInput = "0" + num;
                else dateInput = "0";
            } else if (len === 1) {
                if (dateInput === "1") {
                    if (num <= 2) dateInput += num;
                    else {
                        let fixedMonth = "01";
                        if (num >= 4) dateInput = fixedMonth + "0" + num;
                        else dateInput = fixedMonth + num;
                    }
                } else if (dateInput === "0") {
                    dateInput += num;
                }
            } else if (len === 2) {
                if (num >= 4) dateInput += "0" + num;
                else dateInput += num;
            } else if (len === 3) {
                dateInput += num;
            }
            updateDateDisplay();
        }

        function deleteDate() {
            dateInput = dateInput.slice(0, -1);
            updateDateDisplay();
        }

        function updateDateDisplay() {
            let month = "";
            let day = "";
            if (dateInput === "1") month = "01";
            else if (dateInput.length >= 2) {
                month = dateInput.substring(0, 2);
                if (dateInput.length > 2) day = dateInput.substring(2);
            } else {
                month = dateInput;
            }
            document.getElementById('display-month').innerText = month;
            document.getElementById('display-day').innerText = day;
        }

        function submitDate() {
            const today = new Date();
            const currentMonth = today.getMonth() + 1; 
            const currentDay = today.getDate();
            let finalInput = dateInput;
            if (finalInput === "1") finalInput = "01";
            let inputM = 0, inputD = 0;
            if (finalInput.length >= 2) inputM = parseInt(finalInput.substring(0, 2));
            if (finalInput.length >= 3) inputD = parseInt(finalInput.substring(2));

            const endTime = new Date().getTime();
            if ((endTime - startTime) / 1000 > 8) slowCount++; 
            else if ((endTime - startTime) / 1000 > 5) slowCount++;

            let score = 0;
            if (inputM === currentMonth && inputD === currentDay) score = 10;
            else if (inputM === currentMonth) score = 5; 
            answers['q6'] = score;
            currentScore += score;
            nextStep(6);
        }

        function showResult() {
            goToSlide('result');
            let safetyTotal = answers.q1 + answers.q2 + answers.q3 + answers.q4 + answers.q5 + answers.q7;
            let finalSafetyScore = Math.round((safetyTotal / 60) * 100);
            document.getElementById('safety-score').innerText = finalSafetyScore + "ì  / 100ì ";

            const visualGrid = document.getElementById('safety-visual-grid');
            let cardsHTML = "";
            let analysisText = ""; 
            let weaknessFound = false;

            if (finalSafetyScore >= 90) analysisText = "<strong>[ì¢…í•© í‰ê°€: ìµœìš°ìˆ˜]</strong><br>ì•ˆì „ ì§€ì‹ì´ ë§¤ìš° ë›°ì–´ë‚©ë‹ˆë‹¤. ";
            else if (finalSafetyScore >= 70) analysisText = "<strong>[ì¢…í•© í‰ê°€: ìš°ìˆ˜]</strong><br>ëŒ€ì²´ë¡œ ì•ˆì „í•˜ì‹œì§€ë§Œ, ëª‡ ê°€ì§€ <strong>ì·¨ì•½ì </strong>ì´ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.<br><br>";
            else analysisText = "<strong>[ì¢…í•© í‰ê°€: ì£¼ì˜]</strong><br>ì‚¬ê³  ìœ„í—˜ì´ ë†’ì€ ìŠµê´€ì´ ë³´ì…ë‹ˆë‹¤. ì•„ë˜ ë‚´ìš©ì„ ê¼­ í™•ì¸í•´ì£¼ì„¸ìš”.<br><br>";

            if (answers.q1 < 10) {
                cardsHTML += `<div class="safety-card"><span class="card-badge correction">ë³µìŠµí•˜ê¸°</span><i class="fa-solid fa-traffic-light" style="color:#e74c3c;"></i><p>ì´ˆë¡ ë¶ˆì´ ê¹œë¹¡ì´ë©´<br>ë©ˆì¶”ì„¸ìš”</p><div class="desc">ì§€ê¸ˆ ê±´ë„ˆê¸°ì—” ëŠ¦ì—ˆìŠµë‹ˆë‹¤.</div></div>`;
                analysisText += "â€¢ <strong>ì‹ í˜¸ë“± ìŠµê´€:</strong> ì‹ í˜¸ê°€ ê¹œë¹¡ì¼ ë•Œ ë¬´ë¦¬í•˜ê²Œ ì§„ì…í•˜ëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ë³´í–‰ì ì‚¬ê³ ì˜ ì£¼ì›ì¸ì…ë‹ˆë‹¤.<br>";
                weaknessFound = true;
            }
            if (answers.q4 < 10 || answers.q7 < 10) {
                cardsHTML += `<div class="safety-card"><span class="card-badge activity">ì‹¤ì²œí•˜ê¸°</span><i class="fa-solid fa-hand" style="color:#3498db;"></i><p>íš¡ë‹¨ë³´ë„ ì°¾ê¸° &<br>ë‹¤ìŒ ì‹ í˜¸ ê¸°ë‹¤ë¦¬ê¸°</p><div class="desc">ë¬´ë‹¨íš¡ë‹¨ì€ ì ˆëŒ€ ì•ˆ ë©ë‹ˆë‹¤.</div></div>`;
                analysisText += "â€¢ <strong>íš¡ë‹¨ íŒë‹¨ë ¥:</strong> íš¡ë‹¨ë³´ë„ê°€ ì•„ë‹ˆê±°ë‚˜ ì‹œê°„ì´ ë¶€ì¡±í•  ë•Œ 'ê±´ë„ ìˆ˜ ìˆë‹¤'ê³  íŒë‹¨í•˜ëŠ” ê²ƒì€ ë§¤ìš° ìœ„í—˜í•©ë‹ˆë‹¤. ì¡°ê¸ˆ ëŠ¦ë”ë¼ë„ ì•ˆì „í•œ ë°©ë²•ì„ ì„ íƒí•˜ì„¸ìš”.<br>";
                weaknessFound = true;
            }
            if (answers.q2 < 10) {
                cardsHTML += `<div class="safety-card"><span class="card-badge correction">ë³µìŠµí•˜ê¸°</span><i class="fa-solid fa-shirt" style="color:#333;"></i><p>ë°¤ì— ê²€ì€ ì˜·ì€<br>ì•ˆ ë¼ìš”</p><div class="desc">ìš´ì „ì ëˆˆì— ë³´ì´ì§€ ì•Šì•„ìš”.</div></div><div class="safety-card"><span class="card-badge activity">ì‹¤ì²œí•˜ê¸°</span><i class="fa-solid fa-vest-patches" style="color:#f1c40f;"></i><p>ë°ì€ ì˜·ê³¼<br>ì•¼ê´‘ ì¡°ë¼ ì…ê¸°</p><div class="desc">ë°¤ì—ëŠ” ë‚˜ë¥¼ ë³´ì—¬ì£¼ëŠ” ê²ƒì´ ìƒëª…ì…ë‹ˆë‹¤.</div></div>`;
                analysisText += "â€¢ <strong>ì•¼ê°„ ì‹œì¸ì„±:</strong> ì–´ë‘ìš´ ì˜·ì€ ë°¤ê¸¸ ì‚¬ê³ ë¥¼ ìœ ë°œí•©ë‹ˆë‹¤. ì™¸ì¶œ ì‹œ ë°ì€ ì˜·ì„ ì…ëŠ” ê²ƒë§Œìœ¼ë¡œë„ ì‚¬ê³ ë¥¼ í¬ê²Œ ì˜ˆë°©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>";
                weaknessFound = true;
            }
            if (answers.q3 < 10) {
                cardsHTML += `<div class="safety-card"><span class="card-badge correction">ë³µìŠµí•˜ê¸°</span><i class="fa-solid fa-person-falling" style="color:#e74c3c;"></i><p>ì°¨ ì•ˆì—ì„œ<br>ë¯¸ë¦¬ ì¼ì–´ì„œì§€ ë§ˆì„¸ìš”</p><div class="desc">ë„˜ì–´ì§€ë©´ í¬ê²Œ ë‹¤ì¹©ë‹ˆë‹¤.</div></div>`;
                analysisText += "â€¢ <strong>ëŒ€ì¤‘êµí†µ:</strong> ë²„ìŠ¤ ì •ì°¨ ì „ ì´ë™ì€ ë‚™ìƒ ì‚¬ê³ ì˜ ìœ„í—˜ì´ í½ë‹ˆë‹¤. ê¸°ì‚¬ë‹˜ì´ ê¸°ë‹¤ë ¤ ë“œë¦¬ë‹ˆ ì²œì²œíˆ í•˜ì°¨í•˜ì„¸ìš”.<br>";
                weaknessFound = true;
            }
            if (answers.q5 < 10) {
                cardsHTML += `<div class="safety-card"><span class="card-badge activity">ì‹¤ì²œí•˜ê¸°</span><i class="fa-solid fa-car-side" style="color:#3498db;"></i><p>ì°¨ë¥¼ ë§ˆì£¼ ë³´ê³ <br>ê°€ì¥ìë¦¬ë¡œ ê±·ê¸°</p><div class="desc">ë‹¤ê°€ì˜¤ëŠ” ì°¨ë¥¼ ëˆˆìœ¼ë¡œ í™•ì¸í•˜ì„¸ìš”.</div></div>`;
                analysisText += "â€¢ <strong>ë³´í–‰ ë°©ë²•:</strong> ì°¨ë¥¼ ë“±ì§€ê³  ê±¸ìœ¼ë©´ ë’¤ì—ì„œ ì˜¤ëŠ” ìœ„í—˜ì„ ê°ì§€í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í•­ìƒ ì°¨ì™€ ë§ˆì£¼ ë³´ëŠ” ìŠµê´€ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.<br>";
                weaknessFound = true;
            }

            if (!weaknessFound) {
                if (finalSafetyScore >= 90) {
                    cardsHTML = `<div class="safety-card" style="grid-column: span 3; border-color: #27ae60;"><i class="fa-solid fa-thumbs-up" style="color:#27ae60;"></i><p>ì•ˆì „ ì ìˆ˜ ìµœê³ !<br>ì™„ë²½í•©ë‹ˆë‹¤</p><div class="desc">ì§€ê¸ˆ ì•Œê³  ê³„ì‹  ì•ˆì „ ìˆ˜ì¹™ì„<br>ì¹œêµ¬ë“¤ì—ê²Œë„ ì•Œë ¤ì£¼ì„¸ìš”.</div></div>`;
                    analysisText += "íŠ¹ë³„íˆ êµì •í•  í–‰ë™ì´ ì—†ìœ¼ë©°, ì§€ê¸ˆì²˜ëŸ¼ ì•ˆì „í•œ ìŠµê´€ì„ ìœ ì§€í•˜ì‹œë©´ ë©ë‹ˆë‹¤.";
                } else {
                    cardsHTML += `<div class="safety-card"><i class="fa-solid fa-shield-heart" style="color:#e67e22;"></i><p>ì˜¤ëŠ˜ë„<br>ì•ˆì „í•˜ê²Œ<br>ë‹¤ë‹ˆì„¸ìš”</p><div class="desc">ì•ˆì „ì€ ë§¤ì¼ ì§€í‚¤ëŠ” ì•½ì†ì…ë‹ˆë‹¤.</div></div>`;
                    analysisText += "ì „ë°˜ì ìœ¼ë¡œ ì–‘í˜¸í•˜ë‚˜, ì‹¤ì œ ìƒí™©ì—ì„œë„ ì´ ì•ˆì „ ìˆ˜ì¹™ë“¤ì„ ìŠì§€ ë§ê³  ì‹¤ì²œí•´ ì£¼ì„¸ìš”.";
                }
            }

            visualGrid.innerHTML = cardsHTML;
            document.getElementById('safety-analysis-text').innerHTML = analysisText;

            let cognitive = {
                orientation: Math.min(100, (answers.q6 * 10)), 
                memory: Math.min(100, (answers.q1 * 5 + answers.q5 * 5) + 20), 
                attention: Math.min(100, (answers.q3 * 10) + 20), 
                visuospatial: Math.min(100, (answers.q2 * 10) + 20), 
                executive: Math.min(100, (answers.q1 * 5 + answers.q4 * 5 + answers.q7 * 5) + 10), 
            };

            const cogVisualGrid = document.getElementById('cognitive-visual-grid');
            let cogCardsHTML = "";
            let lowScoreCount = 0;
            let cogIssueFound = false;

            const cogSolutions = {
                orientation: { icon: 'fa-calendar-check', color: '#e67e22', title: 'ë§¤ì¼ ë‹¬ë ¥ ë³´ê¸°', desc: 'ì˜¤ëŠ˜ ë‚ ì§œì™€ ìš”ì¼ì„<br>ì†Œë¦¬ ë‚´ì–´ ì½ì–´ë³´ì„¸ìš”.' },
                memory: { icon: 'fa-note-sticky', color: '#f1c40f', title: 'ë©”ëª¨ ìŠµê´€ ê°–ê¸°', desc: 'ì¤‘ìš”í•œ ì•½ì†ì´ë‚˜ í•  ì¼ì€<br>ê¼­ ì ì–´ë‘ì„¸ìš”.' },
                attention: { icon: 'fa-eye', color: '#3498db', title: 'í•œ ë²ˆì— í•˜ë‚˜ì”©', desc: 'ê±¸ì„ ë•ŒëŠ” ê±·ê¸°ë§Œ!<br>ë”´ìƒê°ì€ ìœ„í—˜í•´ìš”.' },
                visuospatial: { icon: 'fa-shoe-prints', color: '#9b59b6', title: 'ë°œë°‘ ì¡°ì‹¬í•˜ê¸°', desc: 'ê³„ë‹¨ì´ë‚˜ í„±ì„ ì§€ë‚  ë•Œ<br>ì²œì²œíˆ í™•ì¸í•˜ì„¸ìš”.' },
                executive: { icon: 'fa-traffic-light', color: '#e74c3c', title: 'ì¹¨ì°©í•˜ê²Œ íŒë‹¨', desc: 'ê¸‰í• ìˆ˜ë¡ ëŒì•„ê°€ì„¸ìš”.<br>ì‹ í˜¸ëŠ” ì—¬ìœ  ìˆê²Œ!' }
            };

            for (const [key, score] of Object.entries(cognitive)) {
                if (score <= 50) {
                    lowScoreCount++;
                    cogIssueFound = true;
                    const sol = cogSolutions[key];
                    cogCardsHTML += `<div class="safety-card"><span class="card-badge activity">ë‡Œ ê±´ê°• ìŠµê´€</span><i class="fa-solid ${sol.icon}" style="color:${sol.color};"></i><p>${sol.title}</p><div class="desc">${sol.desc}</div></div>`;
                }
            }

            if (!cogIssueFound) {
                cogCardsHTML = `<div class="safety-card" style="grid-column: span 3; border-color: #27ae60;"><i class="fa-solid fa-brain" style="color:#27ae60;"></i><p>ì¸ì§€ ê±´ê°•<br>ë§¤ìš° íŠ¼íŠ¼!</p><div class="desc">ì§€ê¸ˆì²˜ëŸ¼ í™œê¸°ì°¨ê²Œ<br>ìƒí™œí•˜ì‹œë©´ ë©ë‹ˆë‹¤.</div></div>`;
            }

            let warningMsg = "";
            if (lowScoreCount >= 4) {
                warningMsg = `<div style="background-color: #ffebee; border: 3px solid #e53935; padding: 20px; border-radius: 15px; margin-bottom: 30px; animation: pulse 2s infinite;"><h3 style="color: #c62828; margin: 0 0 10px 0; font-size: 28px;"><i class="fa-solid fa-triangle-exclamation"></i> ì „ë¬¸ ìƒë‹´ ê¶Œì¥</h3><p style="margin: 0; font-size: 22px; color: #b71c1c; font-weight: bold;">4ê°œ ì´ìƒì˜ ì˜ì—­ì—ì„œ ê¸°ëŠ¥ ì €í•˜ê°€ ì˜ì‹¬ë©ë‹ˆë‹¤.<br>ê°€ê¹Œìš´ <span style="text-decoration: underline;">ì¹˜ë§¤ì•ˆì‹¬ì„¼í„°</span>ë‚˜ ë³‘ì›ì„ ë°©ë¬¸í•˜ì—¬<br>ì •ë°€ ê²€ì‚¬ë¥¼ ë°›ì•„ë³´ì‹œê¸°ë¥¼ ê¶Œí•´ ë“œë¦½ë‹ˆë‹¤.</p></div><style>@keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.02); } 100% { transform: scale(1); } }</style>`;
            }

            document.getElementById('cognitive-warning').innerHTML = warningMsg;
            cogVisualGrid.innerHTML = cogCardsHTML;

            setTimeout(() => {
                updateChart('orientation', cognitive.orientation);
                updateChart('memory', cognitive.memory);
                updateChart('attention', cognitive.attention);
                updateChart('visuospatial', cognitive.visuospatial);
                updateChart('executive', cognitive.executive);
            }, 500);
        }

        function updateChart(id, val) {
            const bar = document.getElementById('bar-' + id);
            const valSpan = document.getElementById('val-' + id);
            if(bar && valSpan) {
                bar.style.width = val + '%';
                valSpan.innerText = val;
            }
        }

        function resetQuiz() {
            resetVariables();
            const charts = ['orientation', 'memory', 'attention', 'visuospatial', 'executive'];
            charts.forEach(id => {
                document.getElementById('bar-' + id).style.width = '0%';
                document.getElementById('val-' + id).innerText = '0';
            });
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-btn')[0].classList.add('active'); 
            document.querySelectorAll('.report-content').forEach(content => content.classList.remove('show'));
            document.getElementById('report-safety').classList.add('show');
            goToSlide('start');
        }

        function switchTab(tab) {
            const btns = document.querySelectorAll('.tab-btn');
            btns.forEach(btn => btn.classList.remove('active'));
            if(event && event.target) event.target.classList.add('active');
            document.querySelectorAll('.report-content').forEach(content => content.classList.remove('show'));
            const targetContent = document.getElementById('report-' + tab);
            if(targetContent) targetContent.classList.add('show');
        }
    </script>
</body>
</html>
